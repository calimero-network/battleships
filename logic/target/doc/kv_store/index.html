<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Battleship Game Logic"><title>kv_store - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="kv_store" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (fe5536432 2025-08-29)" data-channel="nightly" data-search-js="search-03d23683.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate kv_store</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../kv_store/index.html">kv_<wbr>store</a><span class="version">0.2.5</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#battleship-game-logic" title="Battleship Game Logic">Battleship Game Logic</a><ul><li><a href="#architecture-overview" title="Architecture Overview">Architecture Overview</a></li><li><a href="#key-features" title="Key Features">Key Features</a></li><li><a href="#usage-examples" title="Usage Examples">Usage Examples</a></li><li><a href="#error-handling" title="Error Handling">Error Handling</a></li><li><a href="#documentation" title="Documentation">Documentation</a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>kv_<wbr>store</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/kv_store/lib.rs.html#1-487">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="battleship-game-logic"><a class="doc-anchor" href="#battleship-game-logic">§</a>Battleship Game Logic</h2>
<p>This crate implements a complete battleship game using the Calimero SDK.
It provides a modular, well-documented implementation following Domain-Driven Design (DDD) principles.</p>
<h3 id="architecture-overview"><a class="doc-anchor" href="#architecture-overview">§</a>Architecture Overview</h3>
<p>The codebase is organized into several modules, each with a specific responsibility:</p>
<ul>
<li><strong><code>board</code></strong> - Board representation, coordinates, and cell types</li>
<li><strong><code>ships</code></strong> - Ship definitions, fleet management, and ship validation</li>
<li><strong><code>players</code></strong> - Player management and private board logic</li>
<li><strong><code>game</code></strong> - Core game logic and match management</li>
<li><strong><code>events</code></strong> - Game events and state changes</li>
<li><strong><code>validation</code></strong> - Comprehensive validation strategy pattern implementation</li>
</ul>
<h3 id="key-features"><a class="doc-anchor" href="#key-features">§</a>Key Features</h3><h4 id="validation-strategy-pattern"><a class="doc-anchor" href="#validation-strategy-pattern">§</a>Validation Strategy Pattern</h4>
<p>The validation system uses a sophisticated Strategy Pattern implementation that provides:</p>
<ul>
<li><strong>Extensibility</strong>: Easy to add new validation rules</li>
<li><strong>Composability</strong>: Mix and match validation strategies</li>
<li><strong>Testability</strong>: Each strategy can be tested independently</li>
<li><strong>Maintainability</strong>: Validation logic is organized and separated</li>
</ul>
<h4 id="game-flow"><a class="doc-anchor" href="#game-flow">§</a>Game Flow</h4>
<ol>
<li><strong>Match Creation</strong>: Players create matches and join them</li>
<li><strong>Ship Placement</strong>: Players place their ships using coordinate strings</li>
<li><strong>Turn-based Gameplay</strong>: Players take turns shooting at opponent boards</li>
<li><strong>Shot Resolution</strong>: Shots are resolved and results are recorded</li>
<li><strong>Win Condition</strong>: Game ends when all ships of one player are sunk</li>
</ol>
<h3 id="usage-examples"><a class="doc-anchor" href="#usage-examples">§</a>Usage Examples</h3><h4 id="creating-a-match"><a class="doc-anchor" href="#creating-a-match">§</a>Creating a Match</h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>battleship::BattleshipState;
 
<span class="kw">let </span><span class="kw-2">mut </span>state = BattleshipState::init();
<span class="kw">let </span>match_id = state.create_match(<span class="string">"player2_base58_key"</span>.to_string())<span class="question-mark">?</span>;</code></pre></div>
<h4 id="placing-ships"><a class="doc-anchor" href="#placing-ships">§</a>Placing Ships</h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>ships = <span class="macro">vec!</span>[
    <span class="string">"0,0;0,1;0,2"</span>.to_string(), <span class="comment">// 3-length ship
    </span><span class="string">"2,0;2,1;2,2;2,3"</span>.to_string(), <span class="comment">// 4-length ship
    // ... more ships
</span>];
state.place_ships(<span class="kw-2">&amp;</span>match_id, ships)<span class="question-mark">?</span>;</code></pre></div>
<h4 id="taking-shots"><a class="doc-anchor" href="#taking-shots">§</a>Taking Shots</h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>state.propose_shot(<span class="kw-2">&amp;</span>match_id, <span class="number">5</span>, <span class="number">3</span>)<span class="question-mark">?</span>; <span class="comment">// Shoot at (5,3)
</span><span class="kw">let </span>result = state.acknowledge_shot(<span class="kw-2">&amp;</span>match_id)<span class="question-mark">?</span>; <span class="comment">// Resolve the shot</span></code></pre></div>
<h3 id="error-handling"><a class="doc-anchor" href="#error-handling">§</a>Error Handling</h3>
<p>The game uses a comprehensive error system with specific error types:</p>
<ul>
<li><code>GameError::NotFound</code> - Resource not found</li>
<li><code>GameError::Invalid</code> - Invalid input or state</li>
<li><code>GameError::Forbidden</code> - Operation not allowed</li>
<li><code>GameError::Finished</code> - Game has ended</li>
</ul>
<h3 id="documentation"><a class="doc-anchor" href="#documentation">§</a>Documentation</h3>
<p>For detailed API documentation, run:</p>
<div class="example-wrap"><pre class="language-bash"><code>cargo doc --open</code></pre></div></div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.Board"><code>pub use board::<a class="struct" href="board/struct.Board.html" title="struct kv_store::board::Board">Board</a>;</code></dt><dt id="reexport.Coordinate"><code>pub use board::<a class="struct" href="board/struct.Coordinate.html" title="struct kv_store::board::Coordinate">Coordinate</a>;</code></dt><dt id="reexport.Cell"><code>pub use board::<a class="enum" href="board/enum.Cell.html" title="enum kv_store::board::Cell">Cell</a>;</code></dt><dt id="reexport.BOARD_SIZE"><code>pub use board::<a class="constant" href="board/constant.BOARD_SIZE.html" title="constant kv_store::board::BOARD_SIZE">BOARD_SIZE</a>;</code></dt><dt id="reexport.Ship"><code>pub use ships::<a class="struct" href="ships/struct.Ship.html" title="struct kv_store::ships::Ship">Ship</a>;</code></dt><dt id="reexport.Fleet"><code>pub use ships::<a class="struct" href="ships/struct.Fleet.html" title="struct kv_store::ships::Fleet">Fleet</a>;</code></dt><dt id="reexport.ShipValidator"><code>pub use ships::<a class="struct" href="ships/struct.ShipValidator.html" title="struct kv_store::ships::ShipValidator">ShipValidator</a>;</code></dt><dt id="reexport.PublicKey"><code>pub use players::<a class="struct" href="players/struct.PublicKey.html" title="struct kv_store::players::PublicKey">PublicKey</a>;</code></dt><dt id="reexport.PlayerBoard"><code>pub use players::<a class="struct" href="players/struct.PlayerBoard.html" title="struct kv_store::players::PlayerBoard">PlayerBoard</a>;</code></dt><dt id="reexport.PrivateBoards"><code>pub use players::<a class="struct" href="players/struct.PrivateBoards.html" title="struct kv_store::players::PrivateBoards">PrivateBoards</a>;</code></dt><dt id="reexport.Match"><code>pub use game::<a class="struct" href="game/struct.Match.html" title="struct kv_store::game::Match">Match</a>;</code></dt><dt id="reexport.ShotResolver"><code>pub use game::<a class="struct" href="game/struct.ShotResolver.html" title="struct kv_store::game::ShotResolver">ShotResolver</a>;</code></dt><dt id="reexport.Event"><code>pub use events::<a class="enum" href="events/enum.Event.html" title="enum kv_store::events::Event">Event</a>;</code></dt><dt id="reexport.ValidationStrategy"><code>pub use validation::<a class="trait" href="validation/trait.ValidationStrategy.html" title="trait kv_store::validation::ValidationStrategy">ValidationStrategy</a>;</code></dt><dt id="reexport.ValidationInput"><code>pub use validation::<a class="struct" href="validation/struct.ValidationInput.html" title="struct kv_store::validation::ValidationInput">ValidationInput</a>;</code></dt><dt id="reexport.ValidationContext"><code>pub use validation::<a class="struct" href="validation/struct.ValidationContext.html" title="struct kv_store::validation::ValidationContext">ValidationContext</a>;</code></dt><dt id="reexport.BoundsValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.BoundsValidationStrategy.html" title="struct kv_store::validation::BoundsValidationStrategy">BoundsValidationStrategy</a>;</code></dt><dt id="reexport.UniquenessValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.UniquenessValidationStrategy.html" title="struct kv_store::validation::UniquenessValidationStrategy">UniquenessValidationStrategy</a>;</code></dt><dt id="reexport.OverlapValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.OverlapValidationStrategy.html" title="struct kv_store::validation::OverlapValidationStrategy">OverlapValidationStrategy</a>;</code></dt><dt id="reexport.AdjacencyValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.AdjacencyValidationStrategy.html" title="struct kv_store::validation::AdjacencyValidationStrategy">AdjacencyValidationStrategy</a>;</code></dt><dt id="reexport.StraightLineValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.StraightLineValidationStrategy.html" title="struct kv_store::validation::StraightLineValidationStrategy">StraightLineValidationStrategy</a>;</code></dt><dt id="reexport.ContiguityValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.ContiguityValidationStrategy.html" title="struct kv_store::validation::ContiguityValidationStrategy">ContiguityValidationStrategy</a>;</code></dt><dt id="reexport.ShipLengthValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.ShipLengthValidationStrategy.html" title="struct kv_store::validation::ShipLengthValidationStrategy">ShipLengthValidationStrategy</a>;</code></dt><dt id="reexport.FleetCompositionValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.FleetCompositionValidationStrategy.html" title="struct kv_store::validation::FleetCompositionValidationStrategy">FleetCompositionValidationStrategy</a>;</code></dt><dt id="reexport.ShipOverlapValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.ShipOverlapValidationStrategy.html" title="struct kv_store::validation::ShipOverlapValidationStrategy">ShipOverlapValidationStrategy</a>;</code></dt><dt id="reexport.ShipAdjacencyValidationStrategy"><code>pub use validation::<a class="struct" href="validation/struct.ShipAdjacencyValidationStrategy.html" title="struct kv_store::validation::ShipAdjacencyValidationStrategy">ShipAdjacencyValidationStrategy</a>;</code></dt><dt id="reexport.validate_ship_placement"><code>pub use validation::<a class="fn" href="validation/fn.validate_ship_placement.html" title="fn kv_store::validation::validate_ship_placement">validate_ship_placement</a>;</code></dt><dt id="reexport.validate_fleet_composition"><code>pub use validation::<a class="fn" href="validation/fn.validate_fleet_composition.html" title="fn kv_store::validation::validate_fleet_composition">validate_fleet_composition</a>;</code></dt><dt id="reexport.validate_coordinates"><code>pub use validation::<a class="fn" href="validation/fn.validate_coordinates.html" title="fn kv_store::validation::validate_coordinates">validate_coordinates</a>;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="board/index.html" title="mod kv_store::board">board</a></dt><dd>Board Module</dd><dt><a class="mod" href="events/index.html" title="mod kv_store::events">events</a></dt><dd>Events Module</dd><dt><a class="mod" href="game/index.html" title="mod kv_store::game">game</a></dt><dd>Game Module</dd><dt><a class="mod" href="players/index.html" title="mod kv_store::players">players</a></dt><dd>Players Module</dd><dt><a class="mod" href="ships/index.html" title="mod kv_store::ships">ships</a></dt><dd>Ships Module</dd><dt><a class="mod" href="validation/index.html" title="mod kv_store::validation">validation</a></dt><dd>Validation Strategy Pattern</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.BattleshipState.html" title="struct kv_store::BattleshipState">Battleship<wbr>State</a></dt><dd>Main application state for the battleship game</dd><dt><a class="struct" href="struct.OwnBoardView.html" title="struct kv_store::OwnBoardView">OwnBoard<wbr>View</a></dt><dd>Represents a player’s own board view for API responses</dd><dt><a class="struct" href="struct.ShotsView.html" title="struct kv_store::ShotsView">Shots<wbr>View</a></dt><dd>Represents a player’s shots view for API responses</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.GameError.html" title="enum kv_store::GameError">Game<wbr>Error</a></dt><dd>Comprehensive error type for all game operations</dd></dl></section></div></main></body></html>